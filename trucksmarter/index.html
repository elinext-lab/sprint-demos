<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZR415HX0B2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZR415HX0B2');
</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TruckSmarter — Engineering Excellence Prototype</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg:        #0F172A;
      --card:      #1E293B;
      --card2:     #162032;
      --border:    rgba(255,255,255,0.07);
      --blue:      #38BDF8;
      --blue-dim:  rgba(56,189,248,0.12);
      --blue-glow: rgba(56,189,248,0.25);
      --green:     #4ADE80;
      --green-dim: rgba(74,222,128,0.10);
      --red:       #F87171;
      --red-dim:   rgba(248,113,113,0.12);
      --amber:     #FBB040;
      --amber-dim: rgba(251,176,64,0.10);
      --text:      #F1F5F9;
      --text-2:    rgba(241,245,249,0.55);
      --text-3:    rgba(241,245,249,0.30);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: #060E1C;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 32px 24px;
      gap: 0;
    }

    /* ─── Layout ─── */
    .layout {
      display: flex;
      gap: 40px;
      align-items: flex-start;
      max-width: 980px;
      width: 100%;
    }

    /* ─── Phone shell ─── */
    .phone-wrap {
      flex-shrink: 0;
      position: sticky;
      top: 32px;
    }

    .phone {
      width: 290px;
      background: #1C2333;
      border-radius: 48px;
      padding: 12px;
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.06),
        0 32px 100px rgba(0,0,0,0.7),
        inset 0 1px 0 rgba(255,255,255,0.08);
    }

    .phone-inner {
      background: var(--bg);
      border-radius: 36px;
      overflow: hidden;
      position: relative;
      height: 580px;
      display: flex;
      flex-direction: column;
    }

    /* ─── Status bar ─── */
    .status-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px 4px;
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
      flex-shrink: 0;
    }

    .status-right {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
    }

    .signal-bars {
      display: flex;
      align-items: flex-end;
      gap: 1.5px;
      height: 11px;
    }

    .signal-bars span {
      display: block;
      width: 3px;
      background: var(--text);
      border-radius: 1px;
    }
    .signal-bars span:nth-child(1) { height: 4px; }
    .signal-bars span:nth-child(2) { height: 6px; }
    .signal-bars span:nth-child(3) { height: 8px; }
    .signal-bars span:nth-child(4) { height: 11px; }

    /* ─── Screen system ─── */
    .screen-stack {
      flex: 1;
      overflow: hidden;
      position: relative;
      min-height: 0;
      width: 100%;
    }

    .screen {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      opacity: 0;
      pointer-events: none;
      transform: translate3d(40px, 0, 0);
      will-change: transform, opacity;
      backface-visibility: hidden;
      transition: opacity 0.25s ease, transform 0.25s ease;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .screen::-webkit-scrollbar { display: none; }

    .screen.active {
      opacity: 1;
      pointer-events: all;
      transform: translate3d(0, 0, 0);
    }

    .screen.slide-back {
      transform: translate3d(-40px, 0, 0);
    }

    /* ─── Bottom nav ─── */
    .bottom-nav {
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 8px 8px 12px;
      background: var(--card);
      border-top: 1px solid var(--border);
      flex-shrink: 0;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      padding: 4px 6px;
      border-radius: 12px;
      transition: background 0.15s;
    }

    .nav-item:active { background: var(--blue-dim); }

    .nav-icon {
      font-size: 22px;
      line-height: 1;
    }

    .nav-label {
      font-size: 10px;
      font-weight: 500;
      color: var(--text-3);
      letter-spacing: 0.02em;
    }

    .nav-item.active .nav-label { color: var(--blue); }
    .nav-item.active .nav-icon { filter: drop-shadow(0 0 6px rgba(56,189,248,0.5)); }

    /* ─── Shared components ─── */
    .screen-header {
      display: flex;
      align-items: center;
      padding: 10px 14px 8px;
      gap: 12px;
      flex-shrink: 0;
    }

    .back-btn {
      width: 36px;
      height: 36px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      color: var(--text);
      flex-shrink: 0;
      transition: background 0.15s;
    }

    .back-btn:active { background: var(--blue-dim); }

    .screen-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
    }

    .section-label {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-3);
      margin-bottom: 10px;
    }

    /* ─── SCREEN 1: LOAD BOARD ─── */
    .lb-header {
      background: linear-gradient(180deg, #0C2040 0%, var(--bg) 100%);
      padding: 4px 14px 12px;
      flex-shrink: 0;
    }

    .lb-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .lb-title {
      font-size: 18px;
      font-weight: 800;
      color: var(--text);
      letter-spacing: -0.5px;
    }

    .live-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(74,222,128,0.12);
      border: 1px solid rgba(74,222,128,0.3);
      border-radius: 20px;
      padding: 5px 10px;
      font-size: 11px;
      font-weight: 700;
      color: var(--green);
      letter-spacing: 0.04em;
    }

    .live-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--green);
      animation: livePulse 1.8s ease-in-out infinite;
    }

    @keyframes livePulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(74,222,128,0.5); }
      50% { opacity: 0.5; box-shadow: 0 0 0 4px rgba(74,222,128,0); }
    }

    .lb-stats-row {
      display: flex;
      gap: 16px;
      margin-bottom: 12px;
    }

    .lb-stat {
      display: flex;
      flex-direction: column;
    }

    .lb-stat-value {
      font-size: 16px;
      font-weight: 800;
      color: var(--text);
      letter-spacing: -0.5px;
    }

    .lb-stat-label {
      font-size: 10px;
      color: var(--text-3);
      font-weight: 500;
    }

    .lb-stat-divider {
      width: 1px;
      background: var(--border);
      margin: 2px 0;
    }

    .sync-time {
      font-size: 10px;
      color: var(--text-3);
    }

    .sync-time strong {
      color: var(--green);
    }

    /* Filter bar */
    .filter-bar {
      display: flex;
      gap: 6px;
      overflow-x: auto;
      padding-bottom: 2px;
    }

    .filter-bar::-webkit-scrollbar { display: none; }

    .filter-chip {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 5px 10px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-2);
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.15s;
      flex-shrink: 0;
    }

    .filter-chip.active {
      background: var(--blue-dim);
      border-color: rgba(56,189,248,0.35);
      color: var(--blue);
    }

    .filter-chip-icon { font-size: 12px; }

    /* Load cards */
    .load-list {
      padding: 8px 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
    }

    .load-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: border-color 0.15s, transform 0.1s;
    }

    .load-card:active { transform: scale(0.99); }
    .load-card:hover { border-color: rgba(56,189,248,0.25); }

    .load-card.booked {
      opacity: 0.55;
      pointer-events: none;
    }

    .booked-banner {
      position: absolute;
      top: 12px;
      right: -22px;
      background: var(--red);
      color: #fff;
      font-size: 9px;
      font-weight: 800;
      letter-spacing: 0.08em;
      padding: 4px 32px;
      transform: rotate(35deg);
      text-transform: uppercase;
    }

    .load-card-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .load-route {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .route-city {
      font-size: 13px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-weight: 800;
      color: var(--text);
    }

    .route-arrow {
      font-size: 14px;
      color: var(--text-3);
    }

    .load-rate {
      text-align: right;
    }

    .rate-value {
      font-size: 15px;
      font-weight: 800;
      color: var(--green);
      letter-spacing: -0.5px;
    }

    .rate-rpm {
      font-size: 10px;
      color: var(--text-3);
      font-weight: 500;
    }

    .load-meta {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-bottom: 6px;
    }

    .meta-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 3px 8px;
      font-size: 11px;
      color: var(--text-2);
      font-weight: 500;
    }

    .load-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .broker-info {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .broker-avatar {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      color: #fff;
    }

    .broker-name {
      font-size: 11px;
      color: var(--text-2);
      font-weight: 600;
    }

    .broker-rating {
      display: flex;
      align-items: center;
      gap: 3px;
      font-size: 10px;
      color: var(--amber);
      font-weight: 600;
    }

    .pickup-time {
      font-size: 10px;
      color: var(--text-3);
    }

    .pickup-time strong {
      color: var(--text-2);
    }

    /* ─── SCREEN 2: LOAD DETAIL ─── */
    .ld-filter-bar {
      background: rgba(56,189,248,0.06);
      border-bottom: 1px solid rgba(56,189,248,0.15);
      padding: 8px 12px;
      flex-shrink: 0;
    }

    .ld-filter-label {
      font-size: 10px;
      color: var(--text-3);
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    .ld-filter-chips {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
    }

    .ld-filter-chip {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      background: var(--blue-dim);
      border: 1px solid rgba(56,189,248,0.3);
      border-radius: 16px;
      padding: 3px 8px;
      font-size: 10px;
      font-weight: 700;
      color: var(--blue);
    }

    .ld-filter-chip svg {
      width: 10px;
      height: 10px;
      opacity: 0.7;
    }

    .persist-badge {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      flex-shrink: 0;
      background: rgba(74,222,128,0.08);
      border: 1px solid rgba(74,222,128,0.2);
      border-radius: 8px;
      padding: 3px 8px;
      font-size: 9px;
      font-weight: 700;
      color: var(--green);
      letter-spacing: 0.04em;
      text-transform: uppercase;
      margin-left: auto;
    }

    .ld-content {
      padding: 0 12px 12px;
      flex: 1;
    }

    .ld-hero {
      background: linear-gradient(135deg, #0C2040 0%, var(--card) 100%);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      margin-bottom: 12px;
    }

    .ld-route {
      display: flex;
      align-items: center;
      gap: 0;
      margin-bottom: 12px;
    }

    .ld-city-block {
      flex: 1;
    }

    .ld-city {
      font-size: 16px;
      font-weight: 800;
      color: var(--text);
      letter-spacing: -0.5px;
    }

    .ld-state {
      font-size: 12px;
      color: var(--text-3);
      font-weight: 500;
      margin-top: 2px;
    }

    .ld-arrow {
      padding: 0 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }

    .ld-arrow-line {
      width: 50px;
      height: 1px;
      background: var(--border);
      position: relative;
    }

    .ld-arrow-line::after {
      content: '';
      position: absolute;
      right: -1px;
      top: -3px;
      border: 4px solid transparent;
      border-left: 6px solid rgba(255,255,255,0.2);
    }

    .ld-miles {
      font-size: 9px;
      color: var(--text-3);
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .ld-rate-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0;
    }

    .ld-rate-block {
      flex: 1;
    }

    .ld-rate-value {
      font-size: 19px;
      font-weight: 800;
      color: var(--green);
      letter-spacing: -1px;
    }

    .ld-rate-label {
      font-size: 10px;
      color: var(--text-3);
      font-weight: 500;
    }

    .ld-rate-divider {
      width: 1px;
      background: var(--border);
      margin: 0 8px;
    }

    /* Info rows */
    .info-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 14px;
      margin-bottom: 10px;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 7px 0;
      border-bottom: 1px solid var(--border);
    }

    .info-row:last-child { border-bottom: none; }

    .info-key {
      font-size: 12px;
      color: var(--text-3);
      font-weight: 500;
    }

    .info-val {
      font-size: 11px;
      color: var(--text);
      font-weight: 600;
      text-align: right;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 55%;
    }

    .info-val.blue { color: var(--blue); }
    .info-val.green { color: var(--green); }

    .similar-loads-bar {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(56,189,248,0.06);
      border: 1px solid rgba(56,189,248,0.15);
      border-radius: 12px;
      padding: 10px 12px;
      margin-bottom: 12px;
    }

    .similar-icon { font-size: 16px; }

    .similar-text {
      font-size: 12px;
      color: var(--text-2);
      flex: 1;
    }

    .similar-text strong { color: var(--blue); }

    .similar-link {
      font-size: 11px;
      color: var(--blue);
      font-weight: 700;
      cursor: pointer;
    }

    .cta-row {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    .btn-primary {
      flex: 1;
      background: var(--blue);
      color: #0F172A;
      font-size: 15px;
      font-weight: 800;
      border: none;
      border-radius: 14px;
      padding: 14px 10px;
      cursor: pointer;
      transition: opacity 0.15s;
      text-align: center;
    }

    .btn-primary:active { opacity: 0.85; }

    .btn-secondary {
      flex: 1;
      background: transparent;
      color: var(--text);
      font-size: 14px;
      font-weight: 700;
      border: 1.5px solid var(--border);
      border-radius: 14px;
      padding: 14px 10px;
      cursor: pointer;
      transition: background 0.15s;
      text-align: center;
    }

    .btn-secondary:active { background: var(--card); }

    /* ─── SCREEN 3: FACTORING UPLOAD ─── */
    .fact-load-ref {
      background: var(--card2);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 14px;
      margin: 0 12px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .fact-load-left {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .fact-load-ref-label {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-3);
    }

    .fact-load-ref-val {
      font-size: 14px;
      font-weight: 800;
      color: var(--text);
    }

    .fact-load-route {
      font-size: 11px;
      color: var(--text-3);
    }

    .fact-gross-pay {
      text-align: right;
    }

    .fact-gross-value {
      font-size: 20px;
      font-weight: 800;
      color: var(--green);
      letter-spacing: -0.5px;
    }

    .fact-gross-label {
      font-size: 10px;
      color: var(--text-3);
    }

    /* Document upload zone */
    .doc-section {
      padding: 0 12px;
      margin-bottom: 12px;
    }

    .doc-upload-card {
      background: var(--card);
      border: 1.5px dashed rgba(56,189,248,0.3);
      border-radius: 16px;
      padding: 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: all 0.15s;
      position: relative;
    }

    .doc-upload-card.uploaded {
      border-style: solid;
      border-color: rgba(74,222,128,0.4);
      background: var(--green-dim);
      cursor: default;
    }

    .doc-upload-card.pending {
      border-color: rgba(251,176,64,0.3);
    }

    .doc-upload-icon {
      width: 48px;
      height: 48px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .doc-upload-icon.blue { background: var(--blue-dim); }
    .doc-upload-icon.green { background: var(--green-dim); }

    .doc-upload-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .doc-upload-sub {
      font-size: 11px;
      color: var(--text-3);
      text-align: center;
    }

    .quality-badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: var(--green-dim);
      border: 1px solid rgba(74,222,128,0.3);
      border-radius: 20px;
      padding: 4px 10px;
      font-size: 11px;
      font-weight: 700;
      color: var(--green);
    }

    .doc-thumbnail {
      width: 100%;
      background: rgba(255,255,255,0.04);
      border-radius: 10px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .doc-thumb-icon { font-size: 28px; }

    .doc-thumb-meta { flex: 1; }

    .doc-thumb-name {
      font-size: 12px;
      font-weight: 700;
      color: var(--text);
    }

    .doc-thumb-size {
      font-size: 10px;
      color: var(--text-3);
    }

    .doc-check {
      font-size: 20px;
    }

    /* Status tracker */
    .tracker-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      margin: 0 16px 12px;
    }

    .tracker-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .tracker-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .tracker-ref {
      font-size: 10px;
      color: var(--text-3);
    }

    .tracker-steps {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .tracker-step {
      display: flex;
      gap: 12px;
      align-items: flex-start;
      position: relative;
    }

    .tracker-step-left {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 28px;
      flex-shrink: 0;
    }

    .tracker-dot {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      flex-shrink: 0;
      font-weight: 700;
    }

    .tracker-dot.done {
      background: var(--green);
      color: #0F172A;
    }

    .tracker-dot.active {
      background: var(--blue);
      color: #0F172A;
      box-shadow: 0 0 0 4px rgba(56,189,248,0.2);
      animation: activePulse 2s ease-in-out infinite;
    }

    @keyframes activePulse {
      0%, 100% { box-shadow: 0 0 0 4px rgba(56,189,248,0.2); }
      50% { box-shadow: 0 0 0 8px rgba(56,189,248,0.05); }
    }

    .tracker-dot.pending {
      background: rgba(255,255,255,0.06);
      border: 2px solid var(--border);
      color: var(--text-3);
    }

    .tracker-connector {
      width: 2px;
      height: 32px;
      margin: 2px auto;
    }

    .tracker-connector.done { background: var(--green); }
    .tracker-connector.pending { background: var(--border); }

    .tracker-step-right {
      padding-top: 4px;
      flex: 1;
      padding-bottom: 30px;
    }

    .tracker-step:last-child .tracker-step-right {
      padding-bottom: 0;
    }

    .tracker-step-name {
      font-size: 13px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 2px;
    }

    .tracker-step-name.dim { color: var(--text-3); }

    .tracker-step-desc {
      font-size: 11px;
      color: var(--text-3);
      line-height: 1.4;
    }

    .tracker-step-eta {
      font-size: 10px;
      font-weight: 700;
      color: var(--blue);
      margin-top: 4px;
    }

    .tracker-step-eta.green { color: var(--green); }

    /* Payment preview */
    .payment-preview {
      background: linear-gradient(135deg, #0A2010 0%, #0C1A1A 100%);
      border: 1px solid rgba(74,222,128,0.2);
      border-radius: 16px;
      padding: 16px;
      margin: 0 16px 12px;
    }

    .payment-preview-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .payment-preview-icon {
      width: 32px;
      height: 32px;
      background: var(--green-dim);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    .payment-preview-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .payment-preview-sub {
      font-size: 11px;
      color: var(--text-3);
    }

    .payment-breakdown {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
    }

    .payment-part {
      flex: 1;
      background: rgba(255,255,255,0.03);
      border-radius: 10px;
      padding: 10px;
    }

    .payment-part-value {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.5px;
      margin-bottom: 2px;
    }

    .payment-part-value.green { color: var(--green); }
    .payment-part-value.dim { color: var(--text-2); }

    .payment-part-label {
      font-size: 10px;
      color: var(--text-3);
      font-weight: 500;
    }

    .payment-eta {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-2);
    }

    .payment-eta strong { color: var(--green); }

    .track-btn {
      width: 100%;
      background: rgba(74,222,128,0.1);
      border: 1.5px solid rgba(74,222,128,0.3);
      border-radius: 12px;
      padding: 12px;
      font-size: 13px;
      font-weight: 700;
      color: var(--green);
      cursor: pointer;
      text-align: center;
      transition: background 0.15s;
    }

    .track-btn:active { background: rgba(74,222,128,0.2); }

    /* Submit button + animation */
    .submit-section {
      padding: 0 16px 4px;
    }

    .submit-btn {
      width: 100%;
      background: var(--blue);
      color: #0F172A;
      font-size: 15px;
      font-weight: 800;
      border: none;
      border-radius: 14px;
      padding: 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: opacity 0.15s;
      position: relative;
      overflow: hidden;
    }

    .submit-btn:active { opacity: 0.85; }

    .submit-btn.loading {
      background: rgba(56,189,248,0.15);
      color: var(--blue);
      cursor: not-allowed;
    }

    .submit-spinner {
      width: 16px;
      height: 16px;
      border: 2px solid rgba(15,23,42,0.2);
      border-top-color: #0F172A;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      display: none;
    }

    .submit-btn.loading .submit-spinner {
      display: block;
      border-color: rgba(56,189,248,0.2);
      border-top-color: var(--blue);
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ─── RIGHT PANEL — Annotations ─── */
    .annotations {
      flex: 1;
      min-width: 0;
      padding-top: 6px;
    }

    .ann-header {
      margin-bottom: 24px;
    }

    .ann-tag {
      display: inline-block;
      background: rgba(56,189,248,0.12);
      border: 1px solid rgba(56,189,248,0.25);
      border-radius: 6px;
      padding: 3px 10px;
      font-size: 10px;
      font-weight: 800;
      color: var(--blue);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 10px;
    }

    .ann-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text);
      line-height: 1.2;
      letter-spacing: -0.5px;
      margin-bottom: 8px;
    }

    .ann-sub {
      font-size: 13px;
      color: var(--text-2);
      line-height: 1.6;
    }

    .screen-tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 16px;
    }

    .stab {
      padding: 7px 14px;
      border-radius: 10px;
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      font-size: 11px;
      font-weight: 700;
      color: var(--text-3);
      cursor: pointer;
      transition: all 0.15s;
      white-space: nowrap;
    }

    .stab.active {
      background: var(--blue-dim);
      border-color: rgba(56,189,248,0.3);
      color: var(--blue);
    }

    .note-panel {
      display: none;
    }

    .note-panel.active {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .note-card {
      background: rgba(255,255,255,0.025);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
    }

    .note-card-head {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .note-num {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: var(--blue);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 800;
      color: #0F172A;
      flex-shrink: 0;
    }

    .note-card-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .note-card-body {
      font-size: 12px;
      color: var(--text-2);
      line-height: 1.7;
    }

    .note-card-body strong { color: var(--text); }

    .tech-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 10px;
    }

    .tech-tag {
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 3px 8px;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-3);
      font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
    }

    .problem-box {
      background: rgba(248,113,113,0.05);
      border: 1px solid rgba(248,113,113,0.15);
      border-radius: 10px;
      padding: 10px 12px;
      margin-bottom: 10px;
    }

    .problem-box-label {
      font-size: 9px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--red);
      margin-bottom: 4px;
    }

    .problem-box-text {
      font-size: 12px;
      color: rgba(248,113,113,0.8);
      line-height: 1.5;
    }

    .fix-box {
      background: rgba(74,222,128,0.05);
      border: 1px solid rgba(74,222,128,0.15);
      border-radius: 10px;
      padding: 10px 12px;
      margin-bottom: 10px;
    }

    .fix-box-label {
      font-size: 9px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--green);
      margin-bottom: 4px;
    }

    .fix-box-text {
      font-size: 12px;
      color: rgba(74,222,128,0.8);
      line-height: 1.5;
    }

    .closing-card {
      background: linear-gradient(135deg, rgba(56,189,248,0.06) 0%, rgba(74,222,128,0.04) 100%);
      border: 1px solid rgba(56,189,248,0.15);
      border-radius: 16px;
      padding: 16px;
    }

    .closing-card-title {
      font-size: 14px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .closing-card-body {
      font-size: 12px;
      color: var(--text-2);
      line-height: 1.7;
    }

    .closing-card-body strong { color: var(--text); }

    /* ─── Responsive ─── */
    @media (max-width: 800px) {
      body {
        flex-direction: column;
        align-items: center;
        padding: 16px;
      }

      .layout {
        flex-direction: column;
        align-items: center;
      }

      .phone-wrap {
        position: static;
      }

      .phone {
        width: min(290px, calc(100vw - 32px));
      }

      .phone-inner {
        height: 520px;
      }

      .annotations {
        max-width: 420px;
        width: 100%;
      }
    }

    @media (max-width: 400px) {
      .phone {
        width: calc(100vw - 16px);
        border-radius: 32px;
        padding: 8px;
      }

      .phone-inner {
        border-radius: 26px;
        height: 70svh;
      }
    }
  </style>
</head>
<body>

<div class="layout">

  <!-- ─── Phone ─── -->
  <div class="phone-wrap">
    <div class="phone">
      <div class="phone-inner">

        <!-- Status bar -->
        <div class="status-bar">
          <span>9:41</span>
          <div class="status-right">
            <div class="signal-bars">
              <span></span><span></span><span></span><span></span>
            </div>
            <span>5G</span>
            <span>&#9646;</span>
            <span style="font-size:13px;">&#x1F50B;</span>
          </div>
        </div>

        <!-- Screen stack -->
        <div class="screen-stack">

          <!-- ══════════ SCREEN 1: LOAD BOARD ══════════ -->
          <div class="screen active" id="screen-1">

            <div class="lb-header">
              <div class="lb-top-row">
                <div class="lb-title">Load Board</div>
                <div class="live-badge">
                  <div class="live-dot"></div>
                  LIVE
                </div>
              </div>

              <div class="lb-stats-row">
                <div class="lb-stat">
                  <div class="lb-stat-value">104,382</div>
                  <div class="lb-stat-label">Available loads</div>
                </div>
                <div class="lb-stat-divider"></div>
                <div class="lb-stat">
                  <div class="lb-stat-value">$2.94</div>
                  <div class="lb-stat-label">Avg RPM today</div>
                </div>
                <div class="lb-stat-divider"></div>
                <div class="lb-stat">
                  <div class="lb-stat-value">1,204</div>
                  <div class="lb-stat-label">Near you</div>
                </div>
              </div>

              <div class="sync-time" id="sync-time-display">
                Last synced: <strong>8 seconds ago</strong>
              </div>
            </div>

            <!-- Filter bar -->
            <div style="padding: 8px 16px; flex-shrink: 0;">
              <div class="filter-bar">
                <div class="filter-chip active">
                  <span class="filter-chip-icon">&#128666;</span> Dry Van
                </div>
                <div class="filter-chip active">
                  Min $2.50/mi
                </div>
                <div class="filter-chip active">
                  TX Origin
                </div>
                <div class="filter-chip">
                  Flatbed
                </div>
                <div class="filter-chip">
                  Refrigerated
                </div>
                <div class="filter-chip">
                  &lt;800 mi
                </div>
              </div>
            </div>

            <!-- Load cards -->
            <div class="load-list">

              <!-- Card 1 — Booked (demonstrates real-time sync) -->
              <div class="load-card booked" onclick="goToDetail()">
                <div class="booked-banner">JUST BOOKED</div>
                <div class="load-card-top">
                  <div class="load-route">
                    <div class="route-city">Dallas</div>
                    <div class="route-arrow">&#10142;</div>
                    <div class="route-city">Memphis</div>
                  </div>
                  <div class="load-rate">
                    <div class="rate-value">$2,140</div>
                    <div class="rate-rpm">$2.67/mi</div>
                  </div>
                </div>
                <div class="load-meta">
                  <div class="meta-pill">&#128666; Dry Van</div>
                  <div class="meta-pill">802 mi</div>
                  <div class="meta-pill">44,000 lbs</div>
                </div>
                <div class="load-bottom">
                  <div class="broker-info">
                    <div class="broker-avatar" style="background:#5B4FE8;">CH</div>
                    <div>
                      <div class="broker-name">CH Robinson</div>
                      <div class="broker-rating">&#9733; 4.8</div>
                    </div>
                  </div>
                  <div class="pickup-time">Pickup <strong>Today 2 PM</strong></div>
                </div>
              </div>

              <!-- Card 2 — Primary selectable load -->
              <div class="load-card" onclick="goToDetail()" id="main-load-card">
                <div class="load-card-top">
                  <div class="load-route">
                    <div class="route-city">Houston</div>
                    <div class="route-arrow">&#10142;</div>
                    <div class="route-city">Chicago</div>
                  </div>
                  <div class="load-rate">
                    <div class="rate-value">$2,850</div>
                    <div class="rate-rpm">$2.85/mi</div>
                  </div>
                </div>
                <div class="load-meta">
                  <div class="meta-pill">&#128666; Dry Van</div>
                  <div class="meta-pill">998 mi</div>
                  <div class="meta-pill">38,500 lbs</div>
                  <div class="meta-pill" style="background:rgba(74,222,128,0.08);border-color:rgba(74,222,128,0.2);color:var(--green);">Top RPM</div>
                </div>
                <div class="load-bottom">
                  <div class="broker-info">
                    <div class="broker-avatar" style="background:#E85B5B;">CE</div>
                    <div>
                      <div class="broker-name">Coyote Logistics</div>
                      <div class="broker-rating">&#9733; 4.6</div>
                    </div>
                  </div>
                  <div class="pickup-time">Pickup <strong>Tomorrow 8 AM</strong></div>
                </div>
              </div>

              <!-- Card 3 -->
              <div class="load-card" onclick="goToDetail()">
                <div class="load-card-top">
                  <div class="load-route">
                    <div class="route-city">Austin</div>
                    <div class="route-arrow">&#10142;</div>
                    <div class="route-city">Atlanta</div>
                  </div>
                  <div class="load-rate">
                    <div class="rate-value">$3,120</div>
                    <div class="rate-rpm">$2.78/mi</div>
                  </div>
                </div>
                <div class="load-meta">
                  <div class="meta-pill">&#9835; Reefer</div>
                  <div class="meta-pill">1,122 mi</div>
                  <div class="meta-pill">22,000 lbs</div>
                  <div class="meta-pill" style="background:rgba(251,176,64,0.08);border-color:rgba(251,176,64,0.2);color:var(--amber);">Team preferred</div>
                </div>
                <div class="load-bottom">
                  <div class="broker-info">
                    <div class="broker-avatar" style="background:#5BE8B4;">XP</div>
                    <div>
                      <div class="broker-name">XPO Logistics</div>
                      <div class="broker-rating">&#9733; 4.9</div>
                    </div>
                  </div>
                  <div class="pickup-time">Pickup <strong>Tomorrow 6 AM</strong></div>
                </div>
              </div>

              <!-- Card 4 -->
              <div class="load-card" onclick="goToDetail()">
                <div class="load-card-top">
                  <div class="load-route">
                    <div class="route-city">San Antonio</div>
                    <div class="route-arrow">&#10142;</div>
                    <div class="route-city">Denver</div>
                  </div>
                  <div class="load-rate">
                    <div class="rate-value">$2,610</div>
                    <div class="rate-rpm">$2.61/mi</div>
                  </div>
                </div>
                <div class="load-meta">
                  <div class="meta-pill">&#128666; Dry Van</div>
                  <div class="meta-pill">1,001 mi</div>
                  <div class="meta-pill">41,200 lbs</div>
                </div>
                <div class="load-bottom">
                  <div class="broker-info">
                    <div class="broker-avatar" style="background:#4B8BE8;">EC</div>
                    <div>
                      <div class="broker-name">Echo Global</div>
                      <div class="broker-rating">&#9733; 4.5</div>
                    </div>
                  </div>
                  <div class="pickup-time">Pickup <strong>Feb 21 9 AM</strong></div>
                </div>
              </div>

            </div>

            <!-- Bottom nav -->
            <div class="bottom-nav">
              <div class="nav-item active" onclick="switchScreen(1)">
                <div class="nav-icon">&#128230;</div>
                <div class="nav-label">Loads</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#129302;</div>
                <div class="nav-label">Dispatch</div>
              </div>
              <div class="nav-item" onclick="switchScreen(3)">
                <div class="nav-icon">&#128176;</div>
                <div class="nav-label">Wallet</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#128100;</div>
                <div class="nav-label">Account</div>
              </div>
            </div>

          </div>

          <!-- ══════════ SCREEN 2: LOAD DETAIL ══════════ -->
          <div class="screen" id="screen-2">

            <div class="screen-header">
              <div class="back-btn" onclick="goBackToLoads()">&#8592;</div>
              <div class="screen-title">Load Detail</div>
            </div>

            <!-- Persistent filter bar (THE KEY UX DEMO) -->
            <div class="ld-filter-bar">
              <div style="display:flex; align-items:center; gap:8px; margin-bottom:5px;">
                <div class="ld-filter-label">Active filters</div>
                <div class="persist-badge">&#10003; PRESERVED</div>
              </div>
              <div class="ld-filter-chips">
                <div class="ld-filter-chip">
                  <span>&#128666;</span> Dry Van
                </div>
                <div class="ld-filter-chip">
                  Min $2.50/mi
                </div>
                <div class="ld-filter-chip">
                  TX Origin
                </div>
              </div>
            </div>

            <div class="ld-content">

              <!-- Load hero -->
              <div class="ld-hero" style="margin-bottom:12px;">
                <div class="ld-route">
                  <div class="ld-city-block">
                    <div class="ld-city">Houston</div>
                    <div class="ld-state">Texas, TX</div>
                  </div>
                  <div class="ld-arrow">
                    <div class="ld-arrow-line"></div>
                    <div class="ld-miles">998 mi</div>
                  </div>
                  <div class="ld-city-block" style="text-align:right;">
                    <div class="ld-city">Chicago</div>
                    <div class="ld-state">Illinois, IL</div>
                  </div>
                </div>
                <div class="ld-rate-row">
                  <div class="ld-rate-block">
                    <div class="ld-rate-value">$2,850</div>
                    <div class="ld-rate-label">Total rate</div>
                  </div>
                  <div class="ld-rate-divider"></div>
                  <div class="ld-rate-block">
                    <div class="ld-rate-value" style="font-size:17px; color:var(--blue);">$2.85</div>
                    <div class="ld-rate-label">Per mile (RPM)</div>
                  </div>
                  <div class="ld-rate-divider"></div>
                  <div class="ld-rate-block" style="text-align:right;">
                    <div class="ld-rate-value" style="font-size:15px; color:var(--amber);">&#128666; DV</div>
                    <div class="ld-rate-label">Dry Van 53'</div>
                  </div>
                </div>
              </div>

              <!-- Broker & pickup info -->
              <div class="info-card">
                <div class="info-row">
                  <div class="info-key">Broker</div>
                  <div class="info-val">Coyote Logistics</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Ref #</div>
                  <div class="info-val blue">COY-2024-88412</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Broker rating</div>
                  <div class="info-val" style="color:var(--amber);">&#9733; 4.6 (2,841 reviews)</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Pickup</div>
                  <div class="info-val">Feb 20, 8:00 AM CST</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Pickup address</div>
                  <div class="info-val" style="font-size:11px; max-width:60%;">4200 Port of Houston Rd, Houston, TX 77020</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Delivery</div>
                  <div class="info-val">Feb 21, 6:00 PM CST</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Delivery address</div>
                  <div class="info-val" style="font-size:11px; max-width:60%;">1800 W Pershing Rd, Chicago, IL 60609</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Weight</div>
                  <div class="info-val">38,500 lbs</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Special notes</div>
                  <div class="info-val" style="font-size:11px; color:var(--amber);">Team driver preferred</div>
                </div>
              </div>

              <!-- Rate breakdown -->
              <div class="info-card">
                <div style="font-size:12px;font-weight:700;color:var(--text-3);text-transform:uppercase;letter-spacing:0.06em;margin-bottom:8px;">Rate breakdown</div>
                <div class="info-row">
                  <div class="info-key">Linehaul</div>
                  <div class="info-val green">$2,850.00</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Fuel surcharge</div>
                  <div class="info-val green">$0 (included)</div>
                </div>
                <div class="info-row">
                  <div class="info-key">Factoring (2.5%)</div>
                  <div class="info-val" style="color:var(--red-dim); color:#F87171;">−$71.25</div>
                </div>
                <div class="info-row">
                  <div class="info-key" style="font-weight:700;color:var(--text);">Net payout</div>
                  <div class="info-val green" style="font-size:15px;">$2,778.75</div>
                </div>
              </div>

              <!-- Similar loads nudge -->
              <div class="similar-loads-bar">
                <div class="similar-icon">&#128269;</div>
                <div class="similar-text"><strong>4 similar loads</strong> match your TX Dry Van filters near you</div>
                <div class="similar-link" onclick="goBackToLoads()">View &#8594;</div>
              </div>

              <!-- CTAs -->
              <div class="cta-row">
                <button class="btn-primary" onclick="switchScreen(3)">Book Now</button>
                <button class="btn-secondary">Contact Broker</button>
              </div>

            </div>

            <!-- Bottom nav -->
            <div class="bottom-nav">
              <div class="nav-item active" onclick="switchScreen(1)">
                <div class="nav-icon">&#128230;</div>
                <div class="nav-label">Loads</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#129302;</div>
                <div class="nav-label">Dispatch</div>
              </div>
              <div class="nav-item" onclick="switchScreen(3)">
                <div class="nav-icon">&#128176;</div>
                <div class="nav-label">Wallet</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#128100;</div>
                <div class="nav-label">Account</div>
              </div>
            </div>

          </div>

          <!-- ══════════ SCREEN 3: FACTORING UPLOAD ══════════ -->
          <div class="screen" id="screen-3">

            <div class="screen-header">
              <div class="back-btn" onclick="switchScreen(1)">&#8592;</div>
              <div class="screen-title">Submit Documents</div>
            </div>

            <!-- Load ref -->
            <div class="fact-load-ref">
              <div class="fact-load-left">
                <div class="fact-load-ref-label">Load Reference</div>
                <div class="fact-load-ref-val">COY-2024-88412</div>
                <div class="fact-load-route">Houston, TX &#10142; Chicago, IL · 998 mi</div>
              </div>
              <div class="fact-gross-pay">
                <div class="fact-gross-value">$2,850</div>
                <div class="fact-gross-label">Gross rate</div>
              </div>
            </div>

            <!-- BOL Upload section -->
            <div class="doc-section">
              <div class="section-label" style="padding: 0 0 2px 0;">Bill of Lading (BOL)</div>

              <div class="doc-upload-card uploaded" id="bol-card">
                <div class="doc-thumbnail">
                  <div class="doc-thumb-icon">&#128196;</div>
                  <div class="doc-thumb-meta">
                    <div class="doc-thumb-name">BOL_COY88412.pdf</div>
                    <div class="doc-thumb-size">1.2 MB · Scanned Feb 19</div>
                  </div>
                  <div class="doc-check">&#9989;</div>
                </div>
                <div class="quality-badge">
                  &#10003; Image quality: Excellent
                </div>
              </div>
            </div>

            <!-- POD Upload section -->
            <div class="doc-section">
              <div class="section-label" style="padding: 0 0 2px 0;">Proof of Delivery (POD)</div>

              <div class="doc-upload-card" id="pod-card" onclick="uploadPOD()">
                <div class="doc-upload-icon blue">&#128247;</div>
                <div class="doc-upload-title">Scan POD</div>
                <div class="doc-upload-sub">Tap to open camera or choose from Photos</div>
                <div style="font-size:10px;color:var(--text-3);">Accepted: PDF, JPG, PNG</div>
              </div>
            </div>

            <!-- Status tracker -->
            <div class="tracker-card" id="tracker-card">
              <div class="tracker-header">
                <div class="tracker-title">Submission Status</div>
                <div class="tracker-ref">Ref: TS-FACT-44892</div>
              </div>
              <div class="tracker-steps">

                <div class="tracker-step">
                  <div class="tracker-step-left">
                    <div class="tracker-dot done">&#10003;</div>
                    <div class="tracker-connector done"></div>
                  </div>
                  <div class="tracker-step-right" style="padding-bottom:24px;">
                    <div class="tracker-step-name">Submitted</div>
                    <div class="tracker-step-desc">BOL received · Feb 19, 10:42 AM</div>
                    <div class="tracker-step-eta green">Completed</div>
                  </div>
                </div>

                <div class="tracker-step">
                  <div class="tracker-step-left">
                    <div class="tracker-dot active" id="review-dot">&#128269;</div>
                    <div class="tracker-connector pending"></div>
                  </div>
                  <div class="tracker-step-right" style="padding-bottom:24px;">
                    <div class="tracker-step-name">Under Review</div>
                    <div class="tracker-step-desc">Our team is verifying your documents</div>
                    <div class="tracker-step-eta" id="review-eta">Est. complete in 45–90 min</div>
                  </div>
                </div>

                <div class="tracker-step">
                  <div class="tracker-step-left">
                    <div class="tracker-dot pending" id="approved-dot">&#10003;</div>
                    <div class="tracker-connector pending" id="approved-connector"></div>
                  </div>
                  <div class="tracker-step-right" style="padding-bottom:24px;">
                    <div class="tracker-step-name dim" id="approved-label">Approved</div>
                    <div class="tracker-step-desc">Documents verified, funds released</div>
                  </div>
                </div>

                <div class="tracker-step">
                  <div class="tracker-step-left">
                    <div class="tracker-dot pending" id="paid-dot">&#128176;</div>
                  </div>
                  <div class="tracker-step-right" style="padding-bottom:0;">
                    <div class="tracker-step-name dim" id="paid-label">Paid</div>
                    <div class="tracker-step-desc">Deposited to TruckSmarter Checking</div>
                  </div>
                </div>

              </div>
            </div>

            <!-- Payment preview -->
            <div class="payment-preview">
              <div class="payment-preview-header">
                <div class="payment-preview-icon">&#128176;</div>
                <div>
                  <div class="payment-preview-title">Payment Preview</div>
                  <div class="payment-preview-sub">50% upfront · 50% on delivery confirm</div>
                </div>
              </div>

              <div class="payment-breakdown">
                <div class="payment-part">
                  <div class="payment-part-value green">$1,243</div>
                  <div class="payment-part-label">Due in ~1h 45min</div>
                </div>
                <div class="payment-part">
                  <div class="payment-part-value dim">$1,244</div>
                  <div class="payment-part-label">On POD confirm</div>
                </div>
                <div class="payment-part">
                  <div class="payment-part-value" style="color:var(--red);font-size:16px;">−$71</div>
                  <div class="payment-part-label">Factoring fee (2.5%)</div>
                </div>
              </div>

              <div class="payment-eta" style="margin-bottom:12px;">
                &#128336; First deposit by <strong>Today, 12:30 PM</strong> · TruckSmarter Checking
              </div>

              <button class="track-btn" onclick="showPaymentTimeline()">&#128269; Track Payment</button>
            </div>

            <!-- Submit button -->
            <div class="submit-section">
              <button class="submit-btn" id="submit-btn" onclick="triggerSubmit()">
                <div class="submit-spinner" id="submit-spinner"></div>
                <span id="submit-label">Submit Documents for Payment</span>
              </button>
              <div style="font-size:10px;color:var(--text-3);text-align:center;margin-top:6px;padding-bottom:4px;">
                Funds typically arrive 1–2 hours after approval
              </div>
            </div>

            <!-- Bottom nav -->
            <div class="bottom-nav">
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#128230;</div>
                <div class="nav-label">Loads</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#129302;</div>
                <div class="nav-label">Dispatch</div>
              </div>
              <div class="nav-item active" onclick="switchScreen(3)">
                <div class="nav-icon">&#128176;</div>
                <div class="nav-label">Wallet</div>
              </div>
              <div class="nav-item" onclick="switchScreen(1)">
                <div class="nav-icon">&#128100;</div>
                <div class="nav-label">Account</div>
              </div>
            </div>

          </div>

        </div>
        <!-- /screen-stack -->

      </div>
    </div>
  </div>
  <!-- /phone -->

  <!-- ─── Annotation panel ─── -->
  <div class="annotations">

    <div class="ann-header">
      <div class="ann-tag">Prototype · Elinext for TruckSmarter</div>
      <div class="ann-title">What a great React Native team fixes first</div>
      <div class="ann-sub">
        TruckSmarter's Android rating is 4.3 vs iOS 4.9. That 0.6-star gap is
        not a market problem — it's an engineering debt problem. This prototype shows three concrete
        fixes Elinext can own, ship, and measure independently.
      </div>
    </div>

    <div class="screen-tabs">
      <div class="stab active" onclick="selectTab(1, this)">Screen 1: Load Board</div>
      <div class="stab" onclick="selectTab(2, this)">Screen 2: Detail + Filters</div>
      <div class="stab" onclick="selectTab(3, this)">Screen 3: Factoring</div>
    </div>

    <!-- Panel 1: Load Board -->
    <div class="note-panel active" id="panel-1">
      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num">1</div>
          <div class="note-card-title">Real-time load sync — the stale data problem</div>
        </div>

        <div class="problem-box">
          <div class="problem-box-label">&#128683; The Problem</div>
          <div class="problem-box-text">
            Drivers tap a load showing "Available," call the broker, and hear "that's been taken for hours."
            This wastes 15–30 minutes per occurrence. Android reviews cite this 3x more than iOS.
          </div>
        </div>

        <div class="fix-box">
          <div class="fix-box-label">&#10003; The Fix Shown</div>
          <div class="fix-box-text">
            Live badge + auto-updating "Last synced" timestamp. One load card shown as "JUST BOOKED"
            with red banner — clear visual state that load is gone. No driver wastes a call.
          </div>
        </div>

        <div class="note-card-body">
          Implementation is a <strong>WebSocket subscription</strong> per active load list view.
          When the load state changes server-side, push a diff — not a full page reload.
          The stale data problem is a <strong>polling architecture</strong> issue, not a data issue.
          We replace polling with push events and the problem evaporates.
        </div>
        <div class="tech-tags">
          <span class="tech-tag">React Native</span>
          <span class="tech-tag">WebSocket / SSE</span>
          <span class="tech-tag">Redux state</span>
          <span class="tech-tag">Load board API</span>
        </div>
      </div>

      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num" style="background:var(--green);color:#0F172A;">&#9655;</div>
          <div class="note-card-title">How to interact with this screen</div>
        </div>
        <div class="note-card-body">
          The top card (Dallas &#8594; Memphis) is marked <strong>JUST BOOKED</strong> — greyed out, untappable.
          Tap any other load card to navigate to the detail view. Notice the active filter chips
          (Dry Van · Min $2.50/mi · TX Origin) — watch what happens to them in Screen 2.
        </div>
      </div>
    </div>

    <!-- Panel 2: Detail + Filter Persistence -->
    <div class="note-panel" id="panel-2">
      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num">2</div>
          <div class="note-card-title">Filter persistence — Android's silent UX tax</div>
        </div>

        <div class="problem-box">
          <div class="problem-box-label">&#128683; The Problem</div>
          <div class="problem-box-text">
            Android users set "Dry Van, Min $2.50/mi, Texas" — tap a load to read details —
            hit Back — all filters are gone. They re-enter them every single time.
            iOS users don't have this bug. Android rating suffers.
          </div>
        </div>

        <div class="fix-box">
          <div class="fix-box-label">&#10003; The Fix Shown</div>
          <div class="fix-box-text">
            The filter bar appears at the top of the detail screen with a green "PRESERVED" badge.
            When the driver taps Back, they return to the same filtered list. This is the demo.
          </div>
        </div>

        <div class="note-card-body">
          This is a <strong>navigation state management</strong> bug. React Navigation on Android
          sometimes destroys the stack state on deep-link back-navigation. Fix: lift filter state
          into a <strong>persistent Redux/Zustand store</strong>, not component-local state.
          The filter bar shown at the top of Screen 2 demonstrates the proposed UX — filters
          survive navigation, always visible, always editable. <strong>2-day engineering fix,
          0.2-star Android rating improvement based on review frequency.</strong>
        </div>
        <div class="tech-tags">
          <span class="tech-tag">React Navigation</span>
          <span class="tech-tag">Redux / Zustand</span>
          <span class="tech-tag">Android back stack</span>
          <span class="tech-tag">Navigation state</span>
        </div>
      </div>

      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num" style="background:var(--green);color:#0F172A;">&#9655;</div>
          <div class="note-card-title">How to interact with this screen</div>
        </div>
        <div class="note-card-body">
          Tap Back (&#8592;) to return to the load board — your filters stay set.
          Note the "4 similar loads match your TX Dry Van filters" nudge at the bottom —
          this drives re-engagement into the filtered list rather than losing the user.
          "Book Now" navigates to the factoring / document submission screen.
        </div>
      </div>
    </div>

    <!-- Panel 3: Factoring -->
    <div class="note-panel" id="panel-3">
      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num">3</div>
          <div class="note-card-title">Document submission — the trust-destroying loop</div>
        </div>

        <div class="problem-box">
          <div class="problem-box-label">&#128683; The Problem</div>
          <div class="problem-box-text">
            Drivers submit BOL/POD and then nothing happens. Or something happens but they don't know what.
            Or their submission is rejected with no explanation. Android reviews: "submitted my docs 3 times and
            never knew why it kept looping." This is not a payment problem — it's a transparency problem.
          </div>
        </div>

        <div class="fix-box">
          <div class="fix-box-label">&#10003; The Fix Shown</div>
          <div class="fix-box-text">
            4-step status tracker (Submitted &#8594; Under Review &#8594; Approved &#8594; Paid) with active state
            highlighted. Payment preview shows exactly how much arrives when. No ambiguity.
            Every step has an ETA. Image quality indicator on BOL scan prevents bad-scan rejects.
          </div>
        </div>

        <div class="note-card-body">
          Three sub-fixes in one screen: <strong>(a) image quality indicator</strong> — scan
          validation before submission prevents rejection loops; <strong>(b) status tracker</strong>
          with push notification hooks at each state change; <strong>(c) payment preview</strong>
          showing split amounts and ETAs. The backend already has all this data. This is 100%
          a <strong>frontend workstream</strong> — no API changes required on TruckSmarter's side.
        </div>
        <div class="tech-tags">
          <span class="tech-tag">React Native</span>
          <span class="tech-tag">Camera / document scan</span>
          <span class="tech-tag">Push notifications</span>
          <span class="tech-tag">Factoring API</span>
          <span class="tech-tag">Image validation</span>
        </div>
      </div>

      <div class="note-card">
        <div class="note-card-head">
          <div class="note-num" style="background:var(--green);color:#0F172A;">&#9655;</div>
          <div class="note-card-title">How to interact with this screen</div>
        </div>
        <div class="note-card-body">
          BOL is already uploaded (green card, quality confirmed). Tap the POD card to simulate
          uploading a second document. Tap "Submit Documents for Payment" to see a loading animation.
          Tap "Track Payment" to see the status tracker highlight the active step.
        </div>
      </div>

      <div class="closing-card">
        <div class="closing-card-title">
          &#127919; Why Paolo should care
        </div>
        <div class="closing-card-body">
          TruckSmarter's iOS rating is <strong>4.9</strong>. Android is <strong>4.3</strong>.
          That delta maps directly to these three engineering gaps — all of which are React Native
          navigation and state management problems, not product problems. Elinext ships a
          <strong>dedicated Android quality squad</strong>: fix filter persistence, add real-time
          sync, and rebuild the factoring flow transparency. Close the rating gap to 4.7+.
          That's the pitch.
        </div>
      </div>
    </div>

  </div>
  <!-- /annotations -->

</div>

<script>
  // ─── Screen navigation ───
  let currentScreen = 1;

  function switchScreen(n) {
    const prev = document.getElementById('screen-' + currentScreen);
    const next = document.getElementById('screen-' + n);
    if (prev === next) return;

    // Slide direction: going forward = slide right in, going back = slide left in
    if (n > currentScreen) {
      next.style.transform = 'translateX(40px)';
    } else {
      next.style.transform = 'translateX(-40px)';
    }

    prev.classList.remove('active');
    prev.classList.add('slide-back');

    // Trigger reflow
    next.offsetHeight;

    next.style.transition = 'opacity 0.25s ease, transform 0.25s ease';
    next.classList.add('active');

    setTimeout(() => {
      prev.classList.remove('slide-back');
      prev.style.transform = '';
    }, 300);

    currentScreen = n;

    // Sync annotation tabs
    const tabs = document.querySelectorAll('.stab');
    tabs.forEach((t, i) => {
      t.classList.toggle('active', i === n - 1);
    });
    document.querySelectorAll('.note-panel').forEach((p, i) => {
      p.classList.toggle('active', i === n - 1);
    });
  }

  function goToDetail() {
    switchScreen(2);
  }

  function goBackToLoads() {
    switchScreen(1);
  }

  // ─── Annotation tabs (right panel) ───
  function selectTab(n, btn) {
    document.querySelectorAll('.stab').forEach(t => t.classList.remove('active'));
    btn.classList.add('active');
    document.querySelectorAll('.note-panel').forEach((p, i) => {
      p.classList.toggle('active', i === n - 1);
    });
    switchScreen(n);
  }

  // ─── Live sync timer ───
  let syncSeconds = 8;
  function updateSyncTime() {
    const el = document.getElementById('sync-time-display');
    if (!el) return;
    syncSeconds++;
    if (syncSeconds >= 30) {
      syncSeconds = 0;
    }
    if (syncSeconds < 60) {
      el.innerHTML = 'Last synced: <strong>' + syncSeconds + ' seconds ago</strong>';
    }
    // Occasionally simulate a new sync
    if (syncSeconds === 0) {
      el.innerHTML = 'Last synced: <strong>just now</strong>';
    }
  }
  setInterval(updateSyncTime, 1000);

  // ─── POD upload simulation ───
  let podUploaded = false;
  function uploadPOD() {
    if (podUploaded) return;
    const card = document.getElementById('pod-card');
    card.innerHTML = `
      <div class="doc-upload-icon" style="background:var(--amber-dim);">&#128247;</div>
      <div class="doc-upload-title" style="color:var(--amber);">Scanning...</div>
      <div class="doc-upload-sub">Processing image quality check</div>
    `;
    card.style.borderColor = 'rgba(251,176,64,0.4)';
    card.onclick = null;

    setTimeout(() => {
      card.classList.add('uploaded');
      card.style.borderColor = '';
      card.innerHTML = `
        <div class="doc-thumbnail">
          <div class="doc-thumb-icon">&#128196;</div>
          <div class="doc-thumb-meta">
            <div class="doc-thumb-name">POD_COY88412.jpg</div>
            <div class="doc-thumb-size">0.8 MB · Scanned now</div>
          </div>
          <div class="doc-check">&#9989;</div>
        </div>
        <div class="quality-badge">&#10003; Image quality: Good</div>
      `;
      podUploaded = true;
    }, 1800);
  }

  // ─── Submit button animation ───
  let submitted = false;
  function triggerSubmit() {
    if (submitted) return;
    const btn = document.getElementById('submit-btn');
    const spinner = document.getElementById('submit-spinner');
    const label = document.getElementById('submit-label');

    btn.classList.add('loading');
    spinner.style.display = 'block';
    label.textContent = 'Submitting...';
    submitted = true;

    setTimeout(() => {
      label.textContent = 'Uploading documents (1/2)...';
    }, 900);

    setTimeout(() => {
      label.textContent = 'Verifying with factoring team...';
    }, 1800);

    setTimeout(() => {
      btn.classList.remove('loading');
      btn.style.background = 'var(--green-dim)';
      btn.style.border = '1.5px solid rgba(74,222,128,0.4)';
      btn.style.color = 'var(--green)';
      spinner.style.display = 'none';
      label.textContent = '&#10003; Submitted — tracking active';
      label.innerHTML = '&#9989; Submitted — tracking active';
      btn.onclick = null;
    }, 2800);
  }

  // ─── Track Payment button ───
  function showPaymentTimeline() {
    const dot = document.getElementById('review-dot');
    const eta = document.getElementById('review-eta');
    if (dot) {
      dot.style.animation = 'activePulse 0.5s ease-in-out 3';
    }
    if (eta) {
      eta.textContent = 'Est. complete in ~1h 45min · on track';
      eta.style.color = 'var(--green)';
    }
    // Scroll to tracker
    const tc = document.getElementById('tracker-card');
    if (tc) tc.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

  // ─── Simulate a live load being booked (after 15 seconds of viewing) ───
  setTimeout(() => {
    if (currentScreen === 1) {
      // Flash the live badge to indicate update
      const badge = document.querySelector('.live-badge');
      if (badge) {
        badge.style.background = 'rgba(74,222,128,0.25)';
        badge.style.borderColor = 'rgba(74,222,128,0.6)';
        setTimeout(() => {
          badge.style.background = '';
          badge.style.borderColor = '';
        }, 1000);
      }
      // Update the sync time
      syncSeconds = 0;
      const el = document.getElementById('sync-time-display');
      if (el) el.innerHTML = 'Last synced: <strong>just now</strong> · 1 load updated';
    }
  }, 15000);
</script>

</body>
</html>
